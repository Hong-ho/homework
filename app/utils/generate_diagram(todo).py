def create_uml_diagram(steps):
    """
    生成Mermaid格式的流程图代码
    """
    diagram = ["flowchart TD"]
    for step in steps:
        step_num = step['step']
        description = step['description']
        duration = step.get('duration', '')
        diagram.append(
            f"    Step{step_num}[Step {step_num}: {description}\\n{duration}]"
        )
        if step_num > 1:
            diagram.append(f"    Step{step_num-1} --> Step{step_num}")
    
    return "\n".join(diagram)